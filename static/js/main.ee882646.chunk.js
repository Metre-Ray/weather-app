(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,function(e,t,a){e.exports={weather:"Weather_weather__1I7LG",label:"Weather_label__25R0B"}},function(e,t,a){e.exports={formContainer:"Form_formContainer__14oAW",input:"Form_input__3LhLM",button:"Form_button__2ItY8"}},,,,,,,,,function(e,t,a){e.exports={titlesContainer:"Titles_titlesContainer__H7HAp"}},,,,function(e,t,a){e.exports=a(24)},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(0),l=a.n(r),o=a(7),c=a.n(o),i=(a(21),a(3)),s=a(4),u=a.n(s),m=a(5),p=a(8),d=a(9),f=a(13),h=a(10),v=a(14),b=a(2),y=a.n(b),E=function(e){return l.a.createElement("form",{action:"",className:y.a.formContainer,onSubmit:e.getWeather},l.a.createElement("input",{type:"text",name:"city",placeholder:"City...",className:y.a.input,defaultValue:e.value1}),l.a.createElement("input",{type:"text",name:"country",placeholder:"Country...",className:y.a.input,defaultValue:e.value2}),l.a.createElement("button",{className:y.a.button},"Get Weather"))},g=a(11),w=a.n(g),C=function(){return l.a.createElement("div",{className:w.a.titlesContainer},l.a.createElement("h1",null,"Weather search"),l.a.createElement("p",null,"Find out weather, temperature and other conditions"))},_=a(1),N=a.n(_),S=function(e){var t=e.temperature,a=e.humidity,n=e.pressure,r=e.city,o=e.country,c=e.description,i=e.longitude,s=e.latitude,u=e.windSpeed,m=e.base,p=e.error;return l.a.createElement("div",{className:N.a.weather},r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Location:")," ",r,", ",o),l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Coordinates:")," long: ",i,", lat: ",s),l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Temperature:")," ",t," \xb0C "),l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Humidity:")," ",a," % "),l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Pressure:")," ",n," hpa "),l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Wind speed:")," ",u," m/s "),l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Conditions:")," ",c),l.a.createElement("p",null,l.a.createElement("span",{className:N.a.label},"Data acquired from: ")," ",m)),p&&l.a.createElement("p",null,p))},j={setItems:function(e,t){localStorage.setItem("weather-search-app","".concat(e," ; ").concat(t))},getItems:function(){var e=localStorage.getItem("weather-search-app");if(!e)return[null,null];var t=e.split(";").map((function(e){return e.trim()})),a=Object(i.a)(t,2);return[a[0],a[1]]},clearStorage:function(){localStorage.clear()}},W=Object(r.createContext)(""),k=(a(23),"8bf768353480692e06febb4c621734e9"),x={defaultCity:void 0,defaultCountry:void 0,tempreture:void 0,city:void 0,country:void 0,humidity:void 0,pressure:void 0,windSpeed:void 0,description:void 0,longitude:void 0,latitude:void 0,base:void 0,time:void 0,error:void 0},O=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=Object(m.a)({},x),a.getWeather=function(e){var t,n,r,l,o;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.preventDefault(),t=e.target.elements.city.value,n=e.target.elements.country.value,t&&n){c.next=6;break}return a.setState(Object(m.a)({},x,{error:"Please, enter city and country"})),c.abrupt("return");case 6:return r="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(n,"&units=metric&APPID=").concat(k),c.next=9,u.a.awrap(fetch(r));case 9:return l=c.sent,c.next=12,u.a.awrap(l.json());case 12:if(200===(o=c.sent).cod){c.next=16;break}return a.setState(Object(m.a)({},x,{error:"Sorry, ".concat(o.message)})),c.abrupt("return");case 16:a.setState({temperature:o.main.temp,pressure:o.main.pressure,humidity:o.main.humidity,windSpeed:o.wind.speed,longitude:o.coord.lon,latitude:o.coord.lat,city:o.name,country:o.sys.country,description:o.weather[0].description,base:o.base,time:o.dt,error:""}),j.setItems(t,n);case 18:case"end":return c.stop()}}))},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=j.getItems(),t=Object(i.a)(e,2),a=t[0],n=t[1];this.setState({defaultCity:a,defaultCountry:n})}},{key:"render",value:function(){return l.a.createElement("div",{className:"app"},l.a.createElement(W.Provider,{value:"dark"},l.a.createElement(C,null)),l.a.createElement(E,{getWeather:this.getWeather,value1:this.state.defaultCity,value2:this.state.defaultCountry}),l.a.createElement(S,this.state),l.a.createElement("div",{className:"status"},"Date: ",this.state.time?new Date(1e3*this.state.time).toLocaleString():"time is not defined"),l.a.createElement("div",{className:"status"},"Network status: ",navigator.onLine?"online":"offline"))}}]),t}(r.Component);c.a.render(l.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("serviceWorkerCustom.js").then((function(e){console.log("Service Worker is registered.");var t={type:"CACHE_URLS",payload:[location.href].concat(Object(n.a)(performance.getEntriesByType("resource").map((function(e){return e.name}))))};e.installing&&e.installing.postMessage(t)})).catch((function(e){console.error("Registration of service worker failed:",e)}))}))}],[[15,1,2]]]);
//# sourceMappingURL=main.ee882646.chunk.js.map